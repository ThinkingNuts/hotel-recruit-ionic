<ion-header>

  <ion-navbar color="light">
    <ion-title *ngIf="!data.edit">发布用工</ion-title>
    <ion-title *ngIf="data.edit">编辑用工</ion-title>
  </ion-navbar>

</ion-header>

<ion-content class="content-background">

  <form [formGroup]="createForm" novalidate>
    <ion-list>
      <ion-item>
        <ion-label><span class="color-need">*</span>部门：</ion-label>
        <ion-select cancelText="取消" okText="确定" [(ngModel)]="recruit.DepartID" formControlName="DepartID">
          <ion-option *ngFor="let item of data.departments" [value]="item.id">{{ item.text }}</ion-option>
        </ion-select>
      </ion-item>
      <ion-item>
        <ion-label><span class="color-need">*</span>工种：</ion-label>
        <ion-select cancelText="取消" okText="确定" [(ngModel)]="recruit.WorkTypeId" formControlName="WorkTypeId">
          <ion-option *ngFor="let item of data.workTypes" [value]="item.id">{{ item.text }}</ion-option>
        </ion-select>
      </ion-item>

      <ion-item>
        <ion-label><span class="color-need">*</span>工作排班：</ion-label>
        <ion-select cancelText="取消" okText="确定" [(ngModel)]="recruit.ScheduleId" formControlName="ScheduleId">
          <ion-option *ngFor="let item of data.schedules" [value]="item.id">{{ item.text }}</ion-option>
        </ion-select>
      </ion-item>

      <ion-item>
        <ion-label><span class="color-need">*</span>招聘人数：</ion-label>
        <ion-input type="text" [(ngModel)]="recruit.Num" formControlName="Num"></ion-input>
        <ion-select cancelText="取消" okText="确定" [(ngModel)]="data.num" formControlName="num">
          <ion-option *ngFor="let item of data.nums" [value]="item">{{ item }}</ion-option>
        </ion-select>
      </ion-item>

      <ion-item>
        <ion-label><span class="color-need">*</span>单价：</ion-label>
        <ion-input type="text" [(ngModel)]="recruit.Billing" formControlName="Billing"></ion-input>
        <ion-select cancelText="取消" okText="确定" [(ngModel)]="data.unit" formControlName="unit">
          <ion-option *ngFor="let item of data.units" [value]="item">{{ item }}</ion-option>
        </ion-select>
      </ion-item>

      <ion-item>
        <ion-label><span class="color-need">*</span>开始时间：</ion-label>
        <ion-datetime cancelText="取消" doneText="确定" displayFormat="YYYY/MM/DD" pickerFormat="YYYY MM DD" [min]="data.currentTime"
          [(ngModel)]="recruit.Start" formControlName="Start"></ion-datetime>
      </ion-item>

      <ion-item>
        <ion-label><span class="color-need">*</span>结束时间：</ion-label>
        <ion-datetime cancelText="取消" doneText="确定" displayFormat="YYYY/MM/DD" pickerFormat="YYYY MM DD" [min]="recruit.Start"
          [(ngModel)]="recruit.End" formControlName="End"></ion-datetime>
      </ion-item>

      <ion-item>
        <ion-label>技能要求：</ion-label>
        <ion-input type="text" [(ngModel)]="recruit.Mark" value='' formControlName="Mark"></ion-input>
      </ion-item>
    </ion-list>

    <button *ngIf="!data.edit" ion-button class="btn" (click)=create()>发布</button>
    <button *ngIf="data.edit" ion-button class="btn" (click)=edit()>修改</button>
  </form>
</ion-content>